<tal:def tal:define="    size python:options['field'].getSettings('size') or str(255);    title python:options['field'].title;    ttip_title title;    ttip_descr python:options['field'].Schema()['fieldDescription'].getAccessor(options['field'])();    custom_attributes python:options['field'].Schema()['customAttributes'].getAccessor(options['field'])();    fieldname options/fieldname;    fieldvalue options/fieldvalue;    data_mandatory python: 'data-mandatory' if 'data-mandatory' in custom_attributes and not fieldvalue else '';    mandatory python: 'mandatory' if options['field'].getMandatory() else ''">     <label class="control-label" tal:content="python:'%s: ' % title">Titolo        <i tal:condition="ttip_descr" class="icon-info-sign" tal:attributes="title ttip_title;data-content ttip_descr"></i></label>        <div class="input-append">        <tal:plugin tal:content='structure string:<input type="text" name="${fieldname}" maxlenght="${size}" id="${fieldname}" class="field span12 ${mandatory} ${data_mandatory}" value="${fieldvalue}" ${custom_attributes} />'></tal:plugin>         <span class="add-on btn" tal:attributes="id string:btn_${fieldname}">Calcola <i class="icon-edit"></i></span>         </div></tal:def>